/* Unity includes. */
#include "unity.h"
#include "catch_assert.h"

/* Standard includes. */
#include <stdlib.h>
#include <time.h>
#include <string.h>

/* API includes. */
#include "transaction_id_store.h"

/* ===========================  EXTERN VARIABLES    =========================== */


/* ===========================  EXTERN FUNCTIONS   =========================== */



/*-----------------------------------------------------------*/

void setUp( void )
{
}

/*-----------------------------------------------------------*/

void tearDown( void )
{
}

/* ==============================  Test Cases  ============================== */

/**
 * @brief Validate ICE Transaction ID Init fail functionality for Bad Parameters.
 */
void test_iceTransactionIdStore_Init_BadParams( void )
{
    TransactionIdStore_t transactionIdStore;
    TransactionIdSlot_t transactionIdSlotArray[ 32 ];
    size_t transactionIdSlotArraySize = 32;
    TransactionIdStoreResult_t result;

    result = TransactionIdStore_Init( NULL,
                                      &( transactionIdSlotArray[ 0 ] ),
                                      transactionIdSlotArraySize );

    TEST_ASSERT_EQUAL( TRANSACTION_ID_STORE_RESULT_BAD_PARAM,
                       result );

    result = TransactionIdStore_Init( &( transactionIdStore ),
                                      NULL,
                                      transactionIdSlotArraySize );

    TEST_ASSERT_EQUAL( TRANSACTION_ID_STORE_RESULT_BAD_PARAM,
                       result );

    result = TransactionIdStore_Init( &( transactionIdStore ),
                                      &( transactionIdSlotArray[ 0 ] ),
                                      0 );

    TEST_ASSERT_EQUAL( TRANSACTION_ID_STORE_RESULT_BAD_PARAM,
                       result );
}

/*-----------------------------------------------------------*/

/**
 * @brief Validate ICE Transaction ID Store fail functionality for Bad Parameters.
 */
void test_iceTransactionIdStore_Insert_BadParams( void )
{
    TransactionIdStore_t transactionIdStore;
    uint8_t transactionID[ STUN_HEADER_TRANSACTION_ID_LENGTH ];
    TransactionIdStoreResult_t result;

    result = TransactionIdStore_Insert( NULL,
                                        &( transactionID[ 0 ] ) );

    TEST_ASSERT_EQUAL( TRANSACTION_ID_STORE_RESULT_BAD_PARAM,
                       result );

    result = TransactionIdStore_Insert( &( transactionIdStore ),
                                        NULL );

    TEST_ASSERT_EQUAL( TRANSACTION_ID_STORE_RESULT_BAD_PARAM,
                       result );
}

/*-----------------------------------------------------------*/

/**
 * @brief Validate ICE Transaction ID Check ID fail functionality for Bad Parameters.
 */
void test_iceTransactionIdStore_HasId_BadParams( void )
{
    TransactionIdStore_t transactionIdStore;
    uint8_t transactionID[ STUN_HEADER_TRANSACTION_ID_LENGTH ];
    TransactionIdStoreResult_t result;

    result = TransactionIdStore_HasId( NULL,
                                       &( transactionID[ 0 ] ) );

    TEST_ASSERT_EQUAL( TRANSACTION_ID_STORE_RESULT_BAD_PARAM,
                       result );

    result = TransactionIdStore_HasId( &( transactionIdStore ),
                                       NULL );

    TEST_ASSERT_EQUAL( TRANSACTION_ID_STORE_RESULT_BAD_PARAM,
                       result );
}

/*-----------------------------------------------------------*/

/**
 * @brief Validate ICE Transaction ID Remove ID fail functionality for Bad Parameters.
 */
void test_iceTransactionIdStore_Remove_BadParams( void )
{
    TransactionIdStore_t transactionIdStore;
    uint8_t transactionID[ STUN_HEADER_TRANSACTION_ID_LENGTH ];
    TransactionIdStoreResult_t result;

    result = TransactionIdStore_Remove( NULL,
                                        &( transactionID[ 0 ] ) );

    TEST_ASSERT_EQUAL( TRANSACTION_ID_STORE_RESULT_BAD_PARAM,
                       result );

    result = TransactionIdStore_Remove( &( transactionIdStore ),
                                        NULL );

    TEST_ASSERT_EQUAL( TRANSACTION_ID_STORE_RESULT_BAD_PARAM,
                       result );
}

/*-----------------------------------------------------------*/
